import classNames from 'classnames';

import type { SavedReport as SavedReportType } from '../../../types/Report';

import file from '../../../assets/file.svg';

import { ButtonDelete } from '../ButtonDelete';

import styles from './SavedReport.module.css';

interface SavedReportProps {
  savedReport: SavedReportType;
  onDelete: () => void;
  onOpenReport: () => void;
}

export const SavedReport = ({ savedReport, onDelete, onOpenReport }: SavedReportProps) => {
  return (
    <div className={styles.container}>
      <div
        className={classNames(
          styles.report_container,
          !savedReport.isFailed && styles.report_container__openable,
        )}
        onClick={onOpenReport}
      >
        <div className={classNames(styles.property_wrapper, styles.property_file_name)}>
          <img src={file} alt="Файл" className={styles.img} />
          <div>{savedReport.fileName}</div>
        </div>

        <div className={styles.report_properties}>
          <div className={classNames(styles.property_wrapper, styles.property_to_center)}>
            <div>{savedReport.date}</div>
          </div>

          <div
            className={classNames(
              styles.property_wrapper,
              styles.property_to_center,
              savedReport.isFailed && styles.failed,
            )}
          >
            <div>Обработан успешно</div>
            <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M20.3468 4.41162C17.1329 4.41162 13.9911 5.36467 11.3188 7.15024C8.64649 8.93581 6.56369 11.4737 5.33377 14.443C4.10384 17.4123 3.78204 20.6796 4.40905 23.8318C5.03606 26.984 6.58372 29.8795 8.85632 32.1521C11.1289 34.4247 14.0244 35.9724 17.1766 36.5994C20.3288 37.2264 23.5961 36.9046 26.5654 35.6747C29.5347 34.4447 32.0726 32.3619 33.8582 29.6896C35.6438 27.0173 36.5968 23.8756 36.5968 20.6616C36.5923 16.3532 34.8787 12.2226 31.8323 9.17616C28.7858 6.12968 24.6552 4.41617 20.3468 4.41162ZM20.3468 34.4116C17.6273 34.4116 14.9689 33.6052 12.7077 32.0943C10.4465 30.5835 8.68417 28.436 7.64347 25.9235C6.60276 23.411 6.33046 20.6464 6.86101 17.9791C7.39156 15.3119 8.70112 12.8619 10.6241 10.9389C12.5471 9.01593 14.9971 7.70637 17.6643 7.17582C20.3316 6.64528 23.0962 6.91757 25.6087 7.95828C28.1212 8.99898 30.2686 10.7614 31.7795 13.0225C33.2904 15.2837 34.0968 17.9421 34.0968 20.6616C34.0927 24.3071 32.6427 27.802 30.065 30.3798C27.4872 32.9575 23.9923 34.4075 20.3468 34.4116ZM12.8468 17.5366C12.8468 17.1658 12.9568 16.8033 13.1628 16.4949C13.3688 16.1866 13.6617 15.9463 14.0043 15.8043C14.3469 15.6624 14.7239 15.6253 15.0876 15.6976C15.4513 15.77 15.7854 15.9486 16.0476 16.2108C16.3099 16.473 16.4884 16.8071 16.5608 17.1708C16.6331 17.5345 16.596 17.9115 16.4541 18.2542C16.3122 18.5968 16.0718 18.8896 15.7635 19.0956C15.4552 19.3017 15.0926 19.4116 14.7218 19.4116C14.2245 19.4116 13.7476 19.2141 13.396 18.8624C13.0444 18.5108 12.8468 18.0339 12.8468 17.5366ZM27.8468 17.5366C27.8468 17.9075 27.7368 18.27 27.5308 18.5783C27.3248 18.8867 27.0319 19.127 26.6893 19.2689C26.3467 19.4108 25.9697 19.4479 25.606 19.3756C25.2423 19.3032 24.9082 19.1247 24.646 18.8624C24.3838 18.6002 24.2052 18.2661 24.1328 17.9024C24.0605 17.5387 24.0976 17.1617 24.2395 16.8191C24.3815 16.4765 24.6218 16.1836 24.9301 15.9776C25.2385 15.7716 25.601 15.6616 25.9718 15.6616C26.4691 15.6616 26.946 15.8592 27.2976 16.2108C27.6493 16.5624 27.8468 17.0393 27.8468 17.5366Z"
                fill="currentColor"
              />
              <path
                d="M27.1704 23.5296C27.8423 23.7798 28.1924 24.5339 27.8435 25.1602C27.206 26.3042 26.3112 27.2918 25.2229 28.0409C23.7764 29.0366 22.0584 29.5626 20.3025 29.5475C18.5465 29.5325 16.8378 28.977 15.4086 27.9566C14.3334 27.189 13.4556 26.1862 12.8379 25.0314C12.4997 24.3992 12.8628 23.6512 13.5388 23.4126C14.2149 23.1739 14.9454 23.5396 15.3246 24.148C15.7366 24.8089 16.2766 25.3862 16.9172 25.8436C17.9123 26.5541 19.1021 26.9408 20.3248 26.9513C21.5474 26.9618 22.7436 26.5955 23.7508 25.9023C24.3992 25.4559 24.949 24.888 25.3723 24.2343C25.7619 23.6325 26.4985 23.2794 27.1704 23.5296Z"
                fill="currentColor"
              />
            </svg>
          </div>

          <div
            className={classNames(
              styles.property_wrapper,
              styles.property_to_end,
              !savedReport.isFailed && styles.failed,
            )}
          >
            <div>Не удалось обработать</div>
            <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M20 4.25C16.7861 4.25 13.6443 5.20305 10.972 6.98862C8.29969 8.77419 6.21689 11.3121 4.98696 14.2814C3.75704 17.2507 3.43524 20.518 4.06225 23.6702C4.68926 26.8224 6.23692 29.7179 8.50952 31.9905C10.7821 34.2631 13.6776 35.8107 16.8298 36.4378C19.982 37.0648 23.2493 36.743 26.2186 35.513C29.1879 34.2831 31.7258 32.2003 33.5114 29.528C35.297 26.8557 36.25 23.7139 36.25 20.5C36.2455 16.1916 34.5319 12.061 31.4855 9.01454C28.439 5.96806 24.3084 4.25455 20 4.25ZM20 34.25C17.2805 34.25 14.6221 33.4436 12.3609 31.9327C10.0997 30.4218 8.33737 28.2744 7.29666 25.7619C6.25596 23.2494 5.98366 20.4847 6.51421 17.8175C7.04476 15.1503 8.35432 12.7003 10.2773 10.7773C12.2003 8.85431 14.6503 7.54475 17.3175 7.0142C19.9848 6.48366 22.7494 6.75595 25.2619 7.79666C27.7744 8.83736 29.9218 10.5997 31.4327 12.8609C32.9436 15.1221 33.75 17.7805 33.75 20.5C33.7459 24.1455 32.2959 27.6404 29.7182 30.2182C27.1404 32.7959 23.6455 34.2459 20 34.25ZM12.5 17.375C12.5 17.0042 12.61 16.6416 12.816 16.3333C13.022 16.025 13.3149 15.7846 13.6575 15.6427C14.0001 15.5008 14.3771 15.4637 14.7408 15.536C15.1045 15.6084 15.4386 15.787 15.7008 16.0492C15.9631 16.3114 16.1416 16.6455 16.214 17.0092C16.2863 17.3729 16.2492 17.7499 16.1073 18.0925C15.9654 18.4351 15.725 18.728 15.4167 18.934C15.1084 19.14 14.7458 19.25 14.375 19.25C13.8777 19.25 13.4008 19.0525 13.0492 18.7008C12.6976 18.3492 12.5 17.8723 12.5 17.375ZM27.5 17.375C27.5 17.7458 27.39 18.1084 27.184 18.4167C26.978 18.725 26.6851 18.9654 26.3425 19.1073C25.9999 19.2492 25.6229 19.2863 25.2592 19.214C24.8955 19.1416 24.5614 18.963 24.2992 18.7008C24.037 18.4386 23.8584 18.1045 23.786 17.7408C23.7137 17.3771 23.7508 17.0001 23.8927 16.6575C24.0346 16.3149 24.275 16.022 24.5833 15.816C24.8917 15.61 25.2542 15.5 25.625 15.5C26.1223 15.5 26.5992 15.6975 26.9508 16.0492C27.3025 16.4008 27.5 16.8777 27.5 17.375ZM27.3313 27.375C27.4217 27.5173 27.4824 27.6764 27.5098 27.8427C27.5372 28.0091 27.5306 28.1792 27.4905 28.343C27.4504 28.5067 27.3775 28.6607 27.2764 28.7955C27.1753 28.9304 27.0479 29.0434 26.9019 29.1278C26.756 29.2122 26.5944 29.2661 26.4271 29.2865C26.2597 29.3068 26.09 29.2931 25.9281 29.2461C25.7662 29.1991 25.6154 29.1199 25.4849 29.0131C25.3545 28.9064 25.2469 28.7744 25.1688 28.625C24.0016 26.6078 22.1672 25.5 20 25.5C17.8328 25.5 15.9984 26.6094 14.8313 28.625C14.7531 28.7744 14.6456 28.9064 14.5151 29.0131C14.3846 29.1199 14.2338 29.1991 14.0719 29.2461C13.91 29.2931 13.7403 29.3068 13.5729 29.2865C13.4056 29.2661 13.2441 29.2122 13.0981 29.1278C12.9521 29.0434 12.8248 28.9304 12.7236 28.7955C12.6225 28.6607 12.5497 28.5067 12.5095 28.343C12.4694 28.1792 12.4629 28.0091 12.4902 27.8427C12.5176 27.6764 12.5783 27.5173 12.6688 27.375C14.2766 24.5953 16.9484 23 20 23C23.0516 23 25.7234 24.5938 27.3313 27.375Z"
                fill="currentColor"
              />
            </svg>
          </div>
        </div>
      </div>
      <ButtonDelete onClick={onDelete} />
    </div>
  );
};
